<!doctype html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="stylesheet" href="style.css" />
    <title>Wi-Fi портал — Zdravcity</title>
  </head>
  <body>
    <svg class="svg-hidden" aria-hidden="true">
      <symbol
        id="zdravcity-logo"
        viewBox="0 0 220 29"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M214.452 1.85076C212.389 -0.189756 209.044 -0.189756 206.98 1.85076L204.352 4.45065L201.723 1.85076C199.66 -0.189756 196.315 -0.189756 194.252 1.85076C192.189 3.89128 192.189 7.20023 194.252 9.24074L196.88 11.8406L204.352 19.2306L214.452 9.24074C216.515 7.20023 216.515 3.89325 214.452 1.85076Z"
          fill="#FF5B00"
        ></path>
        <path
          d="M17.9899 13.9311C17.9899 17.827 14.4333 19.7926 9.41312 19.7926C3.17222 19.7946 0.696973 16.8973 0 12.9994H5.05604C5.44037 15.2409 6.79848 16.0346 9.30957 16.0346C11.8545 16.0346 12.9358 15.1384 12.9358 13.5864C12.9358 12.4479 12.3782 11.5518 10.1459 11.5518H6.93787V7.7583H9.62222C11.7131 7.7583 12.3424 7.10242 12.3424 5.89702C12.3424 4.58723 11.506 3.6556 9.06464 3.6556C7.35606 3.6556 5.82271 4.13815 5.43838 6.10383H0.384331C1.01161 2.75943 3.31162 0 9.13433 0C13.9454 0 17.3626 1.93022 17.3626 5.55234C17.3626 7.48255 16.3868 8.65644 14.9909 9.34581C16.8747 10.1041 17.9899 11.7251 17.9899 13.9311Z"
          fill="var(--brand-blue)"
        ></path>
        <path
          d="M43.4056 14.7251V24.1734H38.4193V19.3793H24.0198V24.1734H19.0355V14.7251H22.4526C23.1157 14.1736 23.5339 13.0707 23.8466 11.1385L25.589 0.41394H39.9188V14.7251H43.4056ZM34.9324 14.7251V5.0701H29.8425L28.7971 11.3807C28.5521 12.9328 28.2036 13.9668 27.7158 14.7251H34.9324Z"
          fill="var(--brand-blue)"
        ></path>
        <path
          d="M65.2479 9.8973C65.2479 15.7254 61.4822 19.7946 56.4959 19.7946C53.7757 19.7946 51.7884 18.6227 50.4302 16.8284V28.002H45.4439V0.413618H50.4302V3.06866C51.7565 1.24086 53.8136 0 56.4979 0C61.4125 0 65.2479 4.03376 65.2479 9.8973ZM60.1938 9.8973C60.1938 6.79319 58.1368 4.68965 55.3469 4.68965C52.557 4.68965 50.4302 6.79319 50.4302 9.8973C50.4302 13.0349 52.557 15.105 55.3469 15.105C58.1009 15.103 60.1938 13.0349 60.1938 9.8973Z"
          fill="var(--brand-blue)"
        ></path>
        <path
          d="M86.8852 0.413618L86.8494 19.379H81.863V16.8284C80.5388 18.6207 78.5514 19.7946 75.8671 19.7946C70.8469 19.7946 67.1151 15.7254 67.1151 9.8973C67.1171 4.03376 70.9166 0 75.8332 0C78.5534 0 80.5746 1.24086 81.8989 3.06866V0.413618H86.8852ZM81.8989 9.8973C81.8989 6.79319 79.7721 4.68965 76.9822 4.68965C74.1924 4.68965 72.1353 6.79319 72.1353 9.8973C72.1353 13.0349 74.2262 15.105 76.9822 15.105C79.7721 15.103 81.8989 13.0349 81.8989 9.8973Z"
          fill="var(--brand-blue)"
        ></path>
        <path
          d="M106.412 13.8979C106.412 17.7938 103.379 19.3813 99.4378 19.3813H89.2919V0.41394H98.5656C102.401 0.41394 105.434 1.4145 105.434 5.20798C105.434 7.17365 104.388 8.2077 102.959 9.13932C105.191 9.79323 106.412 11.4832 106.412 13.8979ZM98.1494 4.27635H94.2802V7.93195H98.1494C99.858 7.93195 100.416 7.31152 100.416 6.1396C100.416 4.89678 99.858 4.27635 98.1494 4.27635ZM101.357 13.4488C101.357 12.1036 100.73 11.4497 99.0555 11.4497H94.2782V15.5189H99.0555C100.798 15.5189 101.357 14.8276 101.357 13.4488Z"
          fill="var(--brand-blue)"
        ></path>
        <path
          d="M107.872 9.8973C107.872 4.27603 112.09 0 117.877 0C122.548 0 126.698 2.79291 127.429 7.62043H122.304C121.71 5.55233 119.898 4.55177 117.875 4.55177C114.842 4.55177 112.888 6.75971 112.924 9.8973C112.888 13.0703 114.912 15.2428 117.841 15.2428C119.898 15.2428 121.71 14.2088 122.304 12.1387H127.429C126.663 17.1396 122.443 19.7946 117.841 19.7946C112.09 19.7946 107.872 15.5186 107.872 9.8973Z"
          fill="var(--brand-blue)"
        ></path>
        <path
          d="M147.774 0.41394V19.3793H142.788V12.6551L143.102 7.03381L135.189 19.3793H129.436V0.41394H134.422V7.1382L134.177 12.6905L142.057 0.41394H147.774Z"
          fill="var(--brand-blue)"
        ></path>
        <path
          d="M166.6 5.0701H160.674V19.3813H155.688V5.0701H149.795V0.41394H160.672H166.598V5.0701H166.6Z"
          fill="var(--brand-blue)"
        ></path>
        <path
          d="M186.89 0.41394V19.3793H181.904V12.6551L182.219 7.03381L174.305 19.3793H168.552V0.41394H173.538V7.1382L173.294 12.6905L181.173 0.41394H186.89Z"
          fill="var(--brand-blue)"
        ></path>
        <path
          d="M196.88 11.8428L194.251 9.24288C192.188 7.20236 192.188 3.89342 194.251 1.8529C196.314 -0.18762 199.66 -0.18762 201.723 1.8529L204.351 4.45279L196.88 11.8428Z"
          fill="#FF8150"
        ></path>
      </symbol>
    </svg>

    <div class="container" role="application">
      <div class="panel-left">
        <header class="site-header">
          <svg class="logo" aria-label="Zdravcity logo" role="img">
            <use href="#zdravcity-logo"></use>
          </svg>
          <div class="brand-title">Wi-Fi</div>
        </header>

        <!-- СЕКЦИЯ 1: Приветствие -->
        <section
          id="page-welcome"
          class="page active"
          aria-labelledby="welcome-title"
        >
          <div class="title-wrapper">
            <h1 id="welcome-title">
              Добро пожаловать в зону бесплатного Wi-Fi
            </h1>
            <p class="lead">
              Пожалуйста, пройдите регистрацию для доступа в интернет.
            </p>
          </div>

          <div class="auth-btn-container">
            <button id="to-registration" class="btn btn-secondary">
              Зарегистрироваться
            </button>
          </div>
        </section>

        <!-- СЕКЦИЯ 2: Регистрация -->
        <section
          id="page-registration"
          class="page"
          aria-labelledby="registration-title"
        >
          <div class="title-wrapper">
            <h1 id="registration-title">Регистрация</h1>
            <p class="lead">
              Введите ваш номер телефона и выберите способ получения кода
              подтверждения.
            </p>
          </div>

          <div class="mt-18 flex-col-center">
            <form id="registration-form" onsubmit="return false;">
              <div class="phone-input-wrapper">
                <div class="country-select">
                  <span class="flag">RU</span>
                  <span>+7</span>
                </div>
                <input
                  type="tel"
                  class="phone-input"
                  placeholder="900 123-45-67"
                  id="phone-number"
                  maxlength="15"
                />
              </div>

              <div class="auth-methods-wrapper">
                <div
                  class="auth-methods"
                  role="radiogroup"
                  aria-label="Способ авторизации"
                >
                  <input
                    type="radio"
                    name="auth-method"
                    id="method-call"
                    value="call"
                    class="method-radio"
                    checked
                  />
                  <label for="method-call" class="method">
                    <svg
                      viewBox="0 0 24 24"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M17.3545 22.2323C15.3344 21.7262 11.1989 20.2994 7.44979 16.5502C3.70068 12.8011 2.27383 8.66562 1.76771 6.64553C1.47684 5.48462 2.00061 4.36437 2.88872 3.73L5.21698 2.06697C6.57925 1.09391 8.47435 1.4241 9.42727 2.80054L10.8931 4.9178C11.5153 5.81654 11.3006 7.04833 10.4112 7.68369L9.24237 8.51853C9.41926 9.19513 9.96942 10.5846 11.6924 12.3076C13.4154 14.0306 14.8049 14.5808 15.4815 14.7577L16.3164 13.5889C16.9517 12.6994 18.1835 12.4848 19.0822 13.107L21.1995 14.5728C22.5759 15.5257 22.9061 17.4208 21.9331 18.7831L20.27 21.1113C19.6357 21.9994 18.5154 22.5232 17.3545 22.2323Z"
                      />
                    </svg>
                    Звонок
                  </label>

                  <input
                    type="radio"
                    name="auth-method"
                    id="method-sms"
                    value="sms"
                    class="method-radio"
                  />
                  <label for="method-sms" class="method">
                    <svg
                      version="1.1"
                      viewBox="0 0 490 490"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M410.103,458.74L281.861,353.511H105.453C47.313,353.511,0,305.166,0,245.755V139.016C0,79.606,47.313,31.26,105.453,31.26h279.094C442.687,31.26,490,79.606,490,139.016v106.739c0,49.99-33.511,92.697-79.897,104.511V458.74z M105.453,61.886c-41.257,0-74.828,34.603-74.828,77.131v106.739c0,42.528,33.571,77.131,74.828,77.131h187.354l86.671,71.104v-70.043l13.518-1.6c37.848-4.456,66.379-37.384,66.379-76.592V139.016c0-42.528-33.571-77.131-74.828-77.131H105.453z"
                      />
                    </svg>
                    SMS
                  </label>
                </div>

                <div class="checkbox-wrapper">
                  <input type="checkbox" id="age-agreement" />
                  <label for="age-agreement" class="checkbox-label">
                    Мне уже есть 18 лет, и я принимаю условия
                    <a href="#" class="link">пользовательского соглашения</a>
                  </label>
                </div>

                <div class="legal-notice">
                  Идентификация пользователя запрашивается в соответствии с ФЗ
                  №149-ФЗ "Об информации, информационных технологиях и о защите
                  информации"
                </div>
              </div>

              <div class="mt-20 flex-center gap-10">
                <button id="submit-registration" class="btn btn-primary">
                  Получить код
                </button>
              </div>
            </form>
          </div>
        </section>

        <!-- СЕКЦИЯ 3: Ввод кода -->
        <section id="page-code" class="page" aria-labelledby="code-title">
          <div class="title-wrapper">
            <h1 id="code-title">Введите код</h1>
            <p class="lead">
              Введите код из SMS или полученный по звонку. Код состоит из 4
              цифр.
            </p>
          </div>

          <div class="mt-18 flex-col-center">
            <form
              id="code-form"
              onsubmit="return false;"
              aria-describedby="code-desc"
            >
              <div id="code-desc" class="muted text-center mb-10">
                Введите 4-значный код
              </div>
              <div class="code-wrap" role="group" aria-label="Код авторизации">
                <div class="code-input">
                  <input
                    inputmode="numeric"
                    pattern="[0-9]*"
                    maxlength="1"
                    aria-label="Цифра 1"
                  />
                </div>
                <div class="code-input">
                  <input
                    inputmode="numeric"
                    pattern="[0-9]*"
                    maxlength="1"
                    aria-label="Цифра 2"
                  />
                </div>
                <div class="code-input">
                  <input
                    inputmode="numeric"
                    pattern="[0-9]*"
                    maxlength="1"
                    aria-label="Цифра 3"
                  />
                </div>
                <div class="code-input">
                  <input
                    inputmode="numeric"
                    pattern="[0-9]*"
                    maxlength="1"
                    aria-label="Цифра 4"
                  />
                </div>
              </div>

              <div class="mt-18 flex-center gap-10">
                <button id="submit-code" class="btn btn-primary">
                  Подтвердить
                </button>
                <button id="back-registration" class="btn btn-ghost">
                  Назад
                </button>
              </div>
            </form>

            <div class="mt-14 text-center">
              <a class="link" href="#" id="resend">Отправить код повторно</a>
            </div>
          </div>
        </section>

        <!-- СЕКЦИЯ 4: Успешная авторизация -->
        <section id="page-success" class="page" aria-labelledby="success-title">
          <div class="title-wrapper">
            <h1 id="success-title">
              Добро пожаловать в зону бесплатного Wi-Fi
            </h1>
            <p class="lead">
              Вы успешно прошли авторизацию. Теперь вы можете пользоваться
              интернетом.
            </p>
          </div>

          <div class="auth-btn-container">
            <button id="to-internet" class="btn btn-secondary">
              Войти в интернет
            </button>
          </div>

          <div style="margin-top: 18px; text-align: center">
            <button class="btn btn-ghost" id="back-to-start">
              Вернуться на старт
            </button>
          </div>
        </section>
      </div>

      <aside class="panel-right" aria-hidden="false">
        <h2>Узнавайте о скидках - скачайте приложение Здравсити</h2>
        <div class="app-links">
          <a
            class="app-badge"
            href="#"
            aria-label="RuStore"
            target="_blank"
            rel="noopener"
          >
            <span class="badge-icon" role="img">
              <svg viewBox="0 0 192 192" xmlns="http://www.w3.org/2000/svg">
                <g
                  fill="none"
                  stroke="var(--brand-blue)"
                  stroke-width="4.6"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path
                    d="M46.853 24.746v-4.319c0-2.762 2.611-4.789 5.304-4.116l17.054 4.26a5.31 5.31 0 0 1 4.034 5.146v28.658c0 2.763-2.611 4.789-5.304 4.116l-10.09-2.52"
                    transform="matrix(2.5351 0 0 2.6556 -15.545 -20.844)"
                  />
                  <path
                    d="M30.805 31.18v-4.154c0-2.763 2.61-4.79 5.304-4.117l17.053 4.26a5.31 5.31 0 0 1 4.034 5.146v28.658c0 2.763-2.61 4.79-5.304 4.116L41.76 62.558"
                    transform="matrix(2.5351 0 0 2.6556 -15.545 -20.844)"
                  />
                  <path
                    d="M18.79 67.427a5.31 5.31 0 0 1-4.034-5.146V33.623c0-2.763 2.61-4.789 5.304-4.116l17.054 4.26a5.31 5.31 0 0 1 4.033 5.146V67.57c0 2.762-2.61 4.789-5.304 4.116z"
                    transform="matrix(2.5351 0 0 2.6556 -15.545 -20.844)"
                  />
                </g>
              </svg>
            </span>
            <span class="badge-bold"
              >Скачайте из<br />
              RuStore</span
            >
          </a>
        </div>
      </aside>
    </div>

    <script>
      (function () {
        const pages = {
          welcome: document.getElementById("page-welcome"),
          registration: document.getElementById("page-registration"),
          code: document.getElementById("page-code"),
          success: document.getElementById("page-success"),
        };

        function showPage(name) {
          Object.values(pages).forEach((p) => p.classList.remove("active"));
          if (pages[name]) {
            pages[name].classList.add("active");
            location.hash = name;
          }
        }

        // Инициализация
        const start = (location.hash || "#welcome").replace("#", "");
        showPage(start === "" ? "welcome" : start);

        // Навигация
        document
          .getElementById("to-registration")
          .addEventListener("click", () => showPage("registration"));
        document
          .getElementById("back-registration")
          .addEventListener("click", () => showPage("registration"));
        document
          .getElementById("back-to-start")
          .addEventListener("click", () => showPage("welcome"));

        // Отправка регистрационной формы
        document
          .getElementById("submit-registration")
          .addEventListener("click", () => {
            const phone = document.getElementById("phone-number").value;
            const ageAgreement =
              document.getElementById("age-agreement").checked;

            if (!phone || phone.length < 10) {
              alert("Пожалуйста, введите корректный номер телефона.");
              return;
            }

            if (!ageAgreement) {
              alert(
                "Необходимо подтвердить, что вам есть 18 лет и вы принимаете условия соглашения.",
              );
              return;
            }

            showPage("code");
          });

        // Работа с полем ввода кода
        const inputs = Array.from(
          document.querySelectorAll(".code-input input"),
        );
        inputs.forEach((inp, idx) => {
          inp.addEventListener("input", (e) => {
            const v = inp.value.replace(/[^0-9]/g, "");
            inp.value = v;
            if (v && idx < inputs.length - 1) inputs[idx + 1].focus();

            if (e.inputType === "insertFromPaste") {
              const pasted = e.data || e.target.value;
              if (pasted && pasted.length >= inputs.length) {
                const digits = pasted
                  .replace(/\D/g, "")
                  .slice(0, inputs.length)
                  .split("");
                digits.forEach((d, i) => (inputs[i].value = d));
              }
            }
          });
          inp.addEventListener("keydown", (e) => {
            if (e.key === "Backspace" && !inp.value && idx > 0) {
              inputs[idx - 1].focus();
            }
          });
        });

        // Отправка кода
        document.getElementById("submit-code").addEventListener("click", () => {
          const code = inputs.map((i) => i.value).join("");
          if (code.length !== 4) {
            alert("Пожалуйста, введите 4-значный код.");
            return;
          }

          showPage("success");
        });

        // Повторная отправка кода
        document.getElementById("resend").addEventListener("click", (e) => {
          e.preventDefault();
          alert("Код отправлен повторно.");
        });

        // Вход в интернет
        document.getElementById("to-internet").addEventListener("click", () => {
          window.location.href = "https://zdravcity.ru";
        });

        // Обработка изменения hash
        window.addEventListener("hashchange", () => {
          const name = (location.hash || "#welcome").replace("#", "");
          showPage(name === "" ? "welcome" : name);
        });

        // Форматирование номера телефона
        const phoneInput = document.getElementById("phone-number");
        phoneInput.addEventListener("input", (e) => {
          let value = e.target.value.replace(/\D/g, "");
          if (value.length > 10) value = value.slice(0, 10);

          let formatted = "";
          if (value.length > 0) formatted += value.slice(0, 3);
          if (value.length > 3) formatted += " " + value.slice(3, 6);
          if (value.length > 6) formatted += "-" + value.slice(6, 8);
          if (value.length > 8) formatted += "-" + value.slice(8, 10);

          e.target.value = formatted;
        });
      })();
    </script>
  </body>
</html>
